dnl Process this file with autoconf to produce a configure script, as in:
dnl ./configure --with-jmax-include=/u/worksta/dechelle/projects/jmax/include
AC_INIT(cpp/ftsclient.cpp)

FTSCLIENT_MAJOR_VERSION=1
FTSCLIENT_MINOR_VERSION=1
FTSCLIENT_PATCH_VERSION=0

FTSCLIENT_VERSION=${FTSCLIENT_MAJOR_VERSION}.${FTSCLIENT_MINOR_VERSION}.${FTSCLIENT_PATCH_VERSION}
FTSCLIENT_CVS_TAG=V${FTSCLIENT_MAJOR_VERSION}_${FTSCLIENT_MINOR_VERSION}_${FTSCLIENT_PATCH_VERSION}

AC_SUBST(FTSCLIENT_VERSION)
AC_SUBST(FTSCLIENT_CVS_TAG)

VERSION=$FTSCLIENT_VERSION
PACKAGE=ftsclient

AM_INIT_AUTOMAKE($PACKAGE,$VERSION, no-define)

dnl AM_CONFIG_HEADER(config.h)

dnl Checks for programs.
AC_PROG_CXX
if test "$ac_cv_prog_cxx" = "no" ; then
   AC_MSG_ERROR([*** No C++ compiler])
fi

CXXFLAGS="-g -I../include -DDEBUG"

AC_PROG_INSTALL
AC_LIBTOOL_DLOPEN
AM_PROG_LIBTOOL

dnl Checks for libraries.

dnl Checks for header files.
AC_HEADER_STDC

dnl Checks for typedefs, structures, and compiler characteristics.
AC_C_CONST

dnl Checks for library functions.
AC_CHECK_FUNCS(socket)

dnl Set CFLAGS
CFLAGS="$CFLAGS -DLINUX -DLINUXPC -DDEBUG -g"

dnl AC_MSG_RESULT($CFLAGS)

TOP_DIR_PATH=`pwd`
AC_SUBST(TOP_DIR_PATH)

AC_OUTPUT(
Makefile
cpp/Makefile
tests/Makefile
tests/connection/Makefile
tests/callback/Makefile
tests/standalone/Makefile
include/fts/client-version.h
)
