#!/bin/sh
help ()
{
    cat << HELP_EOF

Usage:
    jmax [-install <installation>] 

Starts jMax.

Options and arguments:
  -install <installation>    (optional)
    Defines the installation to use.
    <installation> can be one of the following keywords:
	standard :
	    to use jMax standard installation ( in /usr/local/max)
	snapshot :
	    to use jMax ``snapshot'' installation (in /usr/local/max-snapshot)
	development, user :
	    to use jMax installation in ${HOME}/projects/max
    or <installation> can be a directory, in which case this directory is used
    as root directory of jMax
    Defaults to standard.

  -help
    to print this help

HELP_EOF
}

opt="none"
OPTIONS=""
INSTALL="standard"

for arg in $@
do
    if [ $opt = "none" ]
    then
	case $arg in
	\-install | \-i )
	    opt=$arg ;;
	\-help | \-h | \-\? )
	    help ;
	    exit 2 ;;
	*)
	    OPTIONS="${OPTIONS} $arg" ;;
	esac
    else
	case $opt in
	\-install | \-i)
	    INSTALL=$arg ;;
	esac
	opt="none";
    fi
done

case $INSTALL in
standard)
    ROOTDIR=/usr/local/max ;;
snapshot)
    ROOTDIR=/usr/local/max-snapshot ;;
development | user)
    ROOTDIR=${HOME}/projects/max ;;
*)
    if [ -d $INSTALL ]
    then
	ROOTDIR=$INSTALL
    else
	help
	exit 2
    fi ;;
esac

${ROOTDIR}/bin/run-jmax -root ${ROOTDIR} ${OPTIONS}




