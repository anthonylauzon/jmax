<HTML>
<HEAD>
<TITLE>jMax Documentation</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<IMG SRC="../../../images/jmax_icon.gif" BORDER=0 ALIGN=MIDDLE> <FONT SIZE=+2>jMax documentation</FONT>
<!-- Generated by Doxygen 1.2.3 on Tue Jul 3 12:25:10 2001 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; </center>
<hr><h1>byte stream</h1>The byte stream abstraction (<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a>). 
<a href="#_details">More...</a><h2>The FTS byte stream structure</h2>
<ul>
<li>typedef struct fts_bytestream <a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a>
<dl class="el"><dd><font size=-1><em>The FTS byte stream structure.</em> <a href="#a3">More...</a><em><br><br></em></font></dl></ul>
<h2>Initializing a byte stream</h2>
Initialization of classes and objects implementing a byte stream.<ul>
<li>void <a class="el" href="group_bytestream.html#a4">fts_bytestream_class_init</a> (fts_class_t *cl)
<dl class="el"><dd><font size=-1><em>Initialize a class implementing an FTS byte stream.</em> <a href="#a4">More...</a><em><br><br></em></font></dl><li>void <a class="el" href="group_bytestream.html#a5">fts_bytestream_init</a> (<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> *stream)
<dl class="el"><dd><font size=-1><em>Initialize a byte stream structure.</em> <a href="#a5">More...</a><em><br><br></em></font></dl><li>void <a class="el" href="group_bytestream.html#a6">fts_bytestream_set_input</a> (<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> *stream)
<dl class="el"><dd><font size=-1><em>Declare initialized byte stream as input.</em> <a href="#a6">More...</a><em><br><br></em></font></dl><li>void <a class="el" href="group_bytestream.html#a7">fts_bytestream_set_output</a> (<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> *stream, <a class="el" href="group_bytestream.html#a0">fts_bytestream_output_t</a> output, <a class="el" href="group_bytestream.html#a1">fts_bytestream_output_char_t</a> output_char, <a class="el" href="group_bytestream.html#a2">fts_bytestream_flush_t</a> flush)
<dl class="el"><dd><font size=-1><em>Declare an initialized byte stream as output and assign it's output functions.</em> <a href="#a7">More...</a><em><br><br></em></font></dl></ul>
<h2>Handling incoming data</h2>
<ul>
<li>void <a class="el" href="group_bytestream.html#a8">fts_bytestream_input</a> (<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> *stream, int n, const unsigned char *c)
<dl class="el"><dd><font size=-1><em>Call all listeners of the byte stream.</em> <a href="#a8">More...</a><em><br><br></em></font></dl></ul>
<h2>Typedefs</h2>
<ul>
<li><a name="a0" doxytag="bytestream::fts_bytestream_output_t"></a>
typedef void (* <a class="el" href="group_bytestream.html#a0">fts_bytestream_output_t</a> )(<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> *stream, int n, const unsigned char *c)
<dl class="el"><dd><font size=-1><em>Send a string to a byte stream.<br><br></em></font></dl><li><a name="a1" doxytag="bytestream::fts_bytestream_output_char_t"></a>
typedef void (* <a class="el" href="group_bytestream.html#a1">fts_bytestream_output_char_t</a> )(<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> *stream, unsigned char c)
<dl class="el"><dd><font size=-1><em>Send a single charakter to a byte stream.<br><br></em></font></dl><li>typedef void (* <a class="el" href="group_bytestream.html#a2">fts_bytestream_flush_t</a> )(<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> *stream)
<dl class="el"><dd><font size=-1><em>Flush byte streams output buffer.</em> <a href="#a2">More...</a><em><br><br></em></font></dl></ul>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The byte stream abstraction (<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a>).
<p>
The byte stream is an abstraction of classes representing byte stream in/output devices like serial lines and TCP or UDP sockets.
<p>
FTS byte streams are FTS objects.
<p>
Various i/o objects can refer to an FTS byte stream in order to receive bytes (listeners)  or send bytes to an internal or external device or file. Mulitple MIDI port listeners can be registered for a single stream.
<p>
If an i/o object refers to byte stream objects by a named variable, the same program (patch) can be configured for completely different setups simply by redefining the byte stream object defining the variable.
<p>
Different implementations of FTS byte streams are developed for different platforms and byte stream protocols. In many cases i/o objects implement a protocol (encoding and decoding) in order to send more complex data structures via a serial byte stream.
<p>
The API documented by this module permits to implement FTS byte stream classes. It contains the byte stream structure itself and the initialization functions for the FTS class  implementing an FTS byte stream: <a class="el" href="group_bytestream.html#a4">fts_bytestream_class_init</a>(), <a class="el" href="group_bytestream.html#a5">fts_bytestream_init</a>().
<p>
A byte stream class allowing input, calls <a class="el" href="group_bytestream.html#a6">fts_bytestream_set_input</a>() in the objects initialization and uses the provided input function <a class="el" href="group_bytestream.html#a8">fts_bytestream_input</a>() in the routines handling incoming data. These functions propagate the incoming data to the listening i/o objects refering to the byte stream.
<p>
For the output a byte stream class must implement two output functions for sending single characters  and entire strings to the bytestream as well as an optional function to flush eventual output buffers. The functions are declared by <a class="el" href="group_bytestream.html#a7">fts_bytestream_set_output</a>() in the objects initialization. <hr><h2>Typedef Documentation</h2>
<a name="a2" doxytag="bytestream::fts_bytestream_flush_t"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void(* fts_bytestream_flush_t)(<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> *stream)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flush byte streams output buffer.
<p>
This function is optional and has not be declared only for byte streams using an output buffer     </td>
  </tr>
</table>
<a name="a3" doxytag="bytestream::fts_bytestream_t"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
fts_bytestream_t
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The FTS byte stream structure.
<p>
The FTS byte stream "inherits" from FTS object. The structure <b><a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a></b> itself must be included by a class implementing a byte stream:
<p>
<div class="fragment"><pre>   <font class="keyword">typedef</font> <font class="keyword">struct </font>my_bytestream
   {
     fts_bytestream_t stream;
     ... 
   } my_bytestream_t;</div></pre>
<p>
A byte stream class must call <code><a class="el" href="group_bytestream.html#a5">fts_bytestream_init</a>()</code> it the objects <em>init</em> Method.     </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a4" doxytag="bytestream::fts_bytestream_class_init"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void fts_bytestream_class_init (
          </b></td>
          <td valign="bottom"><b>
fts_class_t * <em>cl</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize a class implementing an FTS byte stream.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>cl</em>
&nbsp;</td><td>
 FTS class </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a5" doxytag="bytestream::fts_bytestream_init"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void fts_bytestream_init (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> * <em>stream</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize a byte stream structure.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>stream</em>
&nbsp;</td><td>
 the byte stream </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a8" doxytag="bytestream::fts_bytestream_input"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void fts_bytestream_input (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> * <em>stream</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
int <em>n</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
const unsigned char * <em>c</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Call all listeners of the byte stream.
<p>
For incoming data a function is called by the object implementing an byte stream, which calls all listeners.<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>stream</em>
&nbsp;</td><td>
 the byte stream itself </td></tr>
<tr><td valign=top><em>n</em>
&nbsp;</td><td>
 the number of characters </td></tr>
<tr><td valign=top><em>c</em>
&nbsp;</td><td>
 the characters </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="bytestream::fts_bytestream_set_input"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void fts_bytestream_set_input (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> * <em>stream</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Declare initialized byte stream as input.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>stream</em>
&nbsp;</td><td>
 the byte stream </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a7" doxytag="bytestream::fts_bytestream_set_output"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void fts_bytestream_set_output (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="group_bytestream.html#a3">fts_bytestream_t</a> * <em>stream</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="group_bytestream.html#a0">fts_bytestream_output_t</a> <em>output</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="group_bytestream.html#a1">fts_bytestream_output_char_t</a> <em>output_char</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
<a class="el" href="group_bytestream.html#a2">fts_bytestream_flush_t</a> <em>flush</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Declare an initialized byte stream as output and assign it's output functions.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>stream</em>
&nbsp;</td><td>
 the byte stream </td></tr>
<tr><td valign=top><em>functions</em>
&nbsp;</td><td>
 structure of implemented output functions </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<HR>
<b>jMax server kernel documentation (FTS 2.4)</b>
<BR>
Generated 3 Jul 2001 Tue Jul 3 12:25:10 2001 by Doxygen 1.2.3 written by Dimitri van Heesch.
</BODY>
</HTML>
