<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.79 [en] (X11; U; Linux 2.4.18-3 i686) [Netscape]">
   <title>jMax Documentation</title>
<!--                                                                      -->
<!-- jMax                                                                 -->
<!--                                                                      -->
<!-- Copyright (C) 1999 by IRCAM                                          -->
<!-- All rights reserved.                                                 -->
<!--                                                                      -->
<!-- This program may be used and distributed under the terms of the      -->
<!-- accompanying LICENSE.                                                -->
<!--                                                                      -->
<!-- This program is distributed WITHOUT ANY WARRANTY. See the LICENSE    -->
<!-- for DISCLAIMER OF WARRANTY.                                          -->
<!--                                                                      -->
</head>
<body bgcolor="#FFFFFF">

<h4>
<a href="http://www.ircam.fr/jmax/"><img SRC="jmax_icon.gif" ALT="jMax" BORDER=0  align=CENTER></a>
jMax documentation</h4>
<!-- ---------------------------------------------------------------------- --><!-- ---------------------------------------------------------------------- --><!-- End of header                                                          --><!-- ---------------------------------------------------------------------- --><!-- ---------------------------------------------------------------------- -->
<h1>
Compiling jMax</h1>

<ul type=dot>
<li>
<a href="#introduction">Introduction</a></li>

<li>
<a href="#prerequisites">Prerequisites</a></li>

<li>
<a href="#compilation">Compilation</a></li>

<li>
<a href="#rpm">Building rpms</a></li>
</ul>

<hr size=1><a NAME="introduction"></a>
<h2>
Introduction</h2>
This document explains how to recompile jMax from a source distribution.
<p>Thanks to Michael Lechasseur (mlecha@music.mcgill.ca) for contributions
to this document.&nbsp;<!-- ---------------------------------------------------------------------- -->
<p>
<hr><a NAME="prerequisites"></a>
<h3>
Prerequisites</h3>
The following elements are needed to recompile jMax:
<ul>
<li>
the Java Development Kit (JDK) version 1.2 or higher.</li>

<li>
the C compiler</li>

<li>
GNU make</li>
</ul>
Check <a href="installing.html">Installing jMax</a> documentation for further
information on JDK download and installation.
<h4>
SGI platform</h4>
On SGI platform, GNU make resides in <tt>/usr/freeware/bin/gmake</tt>.
Makefiles will <b>not</b> work with standard make.
<h4>
Linux platform</h4>
You can install the JDK in the directory of your choice, as long as the
JDK directory is defined in environment variables. The following place
can be used for example: <tt>/usr/local/java</tt>.
<p>Once you have defined installation directory, you must add environment
variables definition. This can be done by adding the following lines (modify
<tt>JAVA_HOME</tt> to reflect the current settings of your system):
<pre>JAVA_HOME="/usr/local/java"
PATH="$JAVA_HOME/bin:$PATH"</pre>
to your <tt>.bashrc</tt> file in your home directory (modify accordingly
if you are using another shell).
<p>Once this is done, you can check that the environment is correct by
running the Java VM:
<pre>echo $PATH
echo $CLASSPATH
java -version</pre>
If the "Kaffe Java Virtual Machine" is installed on your system, you'll
need to make sure that jMax finds the JDK binaries before it finds the
Kaffe binaries. If you have Kaffe installed you'll get the output "Kaffe
Virtual Machine" by typing "java -version" at the command line. You need
to make the path to your JDK directory apprear first in your PATH statement,
or you need to rename the Kaffe files to prevent their use:
<pre>&nbsp; mv /usr/bin/java /usr/bin/java-kaffe
&nbsp; mv /usr/bin/javac /usr/bin/javac-kaffe
&nbsp; mv /usr/bin/jar /usr/bin/jar-kaffe</pre>
<b>Note:</b> it has been reported that Kaffee does not currently run jMax.
We recommend that you use JDK instead.&nbsp;<!-- ---------------------------------------------------------------------- -->
<p>
<hr><a NAME="compilation"></a>
<h3>
Compilation</h3>

<li>
The compilation must be started in jMax sources root directory.</li>

<h4>
Compilation commands</h4>
To compile both C and Java :
<pre>./configure</pre>

<pre>make</pre>

<pre>make install</pre>
To do a 'clean' :
<pre>make clean</pre>
<!-- ---------------------------------------------------------------------- -->
<p>
<hr><a NAME="rpm"></a>
<h3>
Building rpms</h3>
jMax sources can be used to build rpms, in order to ease installation and
distribution on Linux platforms.
<p>The necessary files for rpm building are included in the source rpm
of jMax and in the jMax source distribution.
<h4>
Building rpms from source rpm</h4>
After installing the source rpm (<tt>jMax-<i>&lt;VERSION></i>.src.rpm</tt>),
just <tt>cd</tt> to the rpm spec directory (usually <tt>/usr/src/redhat/SPECS</tt>)
and start building by:
<pre>rpm -ba jmax.spec</pre>

<h4>
Building rpms from source distribution</h4>
This apply if you installed jMax sources from a .tar.gz file.
<p>The file <tt>jmax.spec</tt> is in the source distribution, in subdirectory
<tt>pkg/rpm/jmax.spec</tt>. For rpm building, the following files must
be copied:
<ul>
<li>
<tt>jmax.spec</tt> to the rpm spec directory, (usually <tt>/usr/src/redhat/SPECS</tt>)</li>

<li>
<tt>jmax-<i>&lt;VERSION></i>.tar.gz</tt> to the rpm sources directory,
(usually <tt>/usr/src/redhat/SOURCES</tt>)</li>
</ul>
After copying those files, just <tt>cd</tt> to the rpm spec directory and
start building by:
<pre>rpm -ba jmax.spec</pre>
<!-- ---------------------------------------------------------------------- --><!-- ---------------------------------------------------------------------- --><!-- Beginning of footer                                                    --><!-- ---------------------------------------------------------------------- --><!-- ---------------------------------------------------------------------- -->
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" >
<tr>
<td><spacer type="block" height="20" width="1"></td>
</tr>

<tr>
<td BGCOLOR="#CCCCCC"><spacer type="block" height="1" width="1"></td>
</tr>

<tr>
<td><spacer type="block" height="20" width="1"></td>
</tr>

<tr>
<td ALIGN=RIGHT><font size=-2>Copyright &copy; 1995,1999 <a href="http://www.ircam.fr/">IRCAM</a>.</font>
<br><font size=-2>All rights reserved.</font></td>
</tr>
</table>

</body>
</html>
